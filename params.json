{
  "name": "Trista-dpi flekst's edition",
  "tagline": "Пакетная обработка растровых изображений в документах Adobe InDesign",
  "body": "Оптимизированная версия срипта [/bteapot/Trista-DPI](https://github.com/bteapot/Trista-DPI) \r\n\r\n* [Русский](#lang_rus)\r\n* [English](#lang_eng)\r\n\r\n<a name=\"lang_rus\"><a>Trista DPI\r\n====================\r\n\r\nНазначение\r\n----------\r\n\r\nПакетная обработка растровых изображений в документах Adobe InDesign.\r\n\r\nСкрипт выполняет рутинные задачи, возникающие после создания \"сырого\" макета с необработанными исходными изображениями.\r\n\r\nВ режиме \"Допечатный процесс\" подцепленные в вёрстку JPEG пересохраняются в ту-же папку в TIFF или PSD, в зависимости от наличия обтравки, и персчитываются на (как правило) 300 dpi. Исходные JPEG удаляются.\r\n\r\nВ режиме \"Цифровой процесс\" вся графика экспортируется в PNG методом \"Save for Web\" с параметрами PNG-24, Transparency и Convert to sRGB.\r\n\r\nВ режиме \"Развнедрение картинок\" внедрённые и вставленные в вёрстку изображения извлекаются во внешние файлы.\r\n\r\nФункциональность\r\n----------------\r\n\r\n### Форматы файлов\r\n\r\n###### Допечатный процесс\r\n\r\nВ обработку берутся все поддерживаемые InDesign форматы растровой графики.\r\nПо желанию JPEG, PNG, GIF и BMP можно пересохранять в TIFF или PSD.\r\nНовые файлы создаются в той-же папке, что и исходные.\r\n\r\n* **Сохранять как TIFF** – все неполиграфические форматы (JPEG, PNG и т.п.) будут пересохранены в TIFF.\r\n* **Сохранять как TIFF, с обтравкой в PSD** – вся неполиграфия в TIFF, а при обнаружении обтравки на картинке в InDesign – в PSD.\r\n* **Сохранять как PSD** – вся неполиграфия в PSD.\r\n\r\nПри сохранении в PSD можно отрывать лэер от фона и убирать обтравку в InDesign.\r\n\r\nПри желании можно определять и обрабатывать файлы Photoshop EPS, что несколько замедляет проверку изображений.\r\n\r\nОригиналы изображений можно удалять.\r\n\r\n###### Цифровой процесс\r\n\r\nИзображения всех поддерживаемых InDesign форматов экспортируются в PNG.\r\n\r\n* **Только не-PNG файлы** – в обработку берутся все форматы, кроме PNG.\r\n* **Все файлы, включая PNG** – включая PNG.\r\n\r\nBitmap-изображения не экспортируются в PNG.\r\n\r\nОригиналы изображений можно удалять.\r\n\r\n### Разрешение\r\n\r\nИзображения Black and White (Bitmap) обрабатываются отдельно от Color и Grayscale. Настройки желаемого разрешения и дельты (минимального отличия разрешения от желаемого), соответственно, также задаются отдельно. По-умолчанию это 300 dpi для Color и Grayscale, и 1200 dpi для Bitmap.\r\nПри дельте равной нулю изображение обрабатывается безусловно.\r\n\r\nПри рассчёте необходимого разрешения учитываются параметры трансформации всех вхождений изображения.\r\n\r\nМожно выбрать метод изменения размера изображений:\r\n\r\n* **Bicubic** – по-умолчанию, и для уменьшения, и для увеличения.\r\n* **Bicubic sharper/smoother** – для увеличения резкости при уменьшении, и для сглаживания при увеличении.  \r\n\r\n### Области действия\r\n\r\n* **Все открытые документы** – в обработку идут все документы, открытые в InDesign.\r\n* **Активный документ** – в обработку идёт только активный документ.\r\n* **Выбранные страницы** – в обработку идут только выбранные страницы активного документа.\r\n* **Выбранные изображения** – в обработку идут только выбранные в InDesign изображения активного документа.\r\n\r\nИзображения за пределами вылетов можно обрабатывать или игнорировать.\r\n\r\nИзображения на мастерах из обработки исключаются.\r\n\r\n### Список изображений\r\n\r\nВ обработку идут только изображения, выбранные в этом списке.\r\nПри выделении только одного изображения показывается список документов и номера полос, на которых выделенное изображение присутствует.\r\n\r\nФайлы с правами доступа только для чтения отмечаются красной точкой и из обработки исключаются.\r\n\r\n### Резервное копирование\r\n\r\nПо желанию можно делать резервные копии всех изменяемых файлов, включая публикацию InDesign.\r\nПри совпадении имён файлов, лежащих в разных папках, к имени файла добавляется уникальный номер.\r\n\r\nМожно включить автоматическое удаление резервных копий, сделанных более месяца назад.\r\n\r\nРанее созданные резервные копии могут быть автоматически восстановлены при запуске скрипта без открытых документов InDesign.\r\n\r\n### Развнедрение\r\n\r\nКартинки, штатно внедрённые в документ, и картинки, вставленные командами Копировать/Вставить, могут быть автоматически извлечены.\r\n\r\nУстановка\r\n---------\r\n\r\nФайл со скриптом (`Trista DPI.jsx`) положить в папку `Scripts Panel`. Открыть её можно прямо из InDesign: в палитре `Scripts` щёлкнуть правой кнопкой по папке `User` и сказать `Reveal in Finder` на Маке, или `Reveal In Explorer` под Windows.\r\n\r\nБлагодарности\r\n-------------\r\n\r\n**Анастасия Морозова** – начальная идея, постановка задач и тестирование по допечатному процессу.\r\n\r\n**Крэйг МакКаббин** – идея и тестирование цифрового процесса.\r\n\r\n<a name=\"lang_eng\"><a>Trista DPI\r\n====================\r\n\r\nPurpose\r\n-------\r\n\r\nBatch processing of raster images in Adobe InDesign documents.\r\n\r\nThis script performs the routine tasks that occur in publishing workflow after the creation of \"raw\" layout with raw source images.\r\n\r\n\"Prepress workflow\" mode: linked JPEGs are resaved in the same folder as TIFF or PSD, depending on the presence of clipping, and resampled to (usually) 300 dpi. Source JPEGs are removed.\r\n\r\n\"Digital workflow\" mode: all images are exported to PNG by \"Save for Web\" method with PNG-24, Transparency and Convert to sRGB parameters.\r\n\r\n\"Unembed images\" mode: embedded and pasted images are extracted into external files.\r\n\r\nFunctionality\r\n-------------\r\n\r\n### File formats\r\n\r\n###### Prepress workflow\r\n\r\nAll InDesign raster graphic formats are supported.\r\nOptionally JPEG, PNG, GIF and BMP can be resaved as TIFF or PSD.\r\nNew files are created in the same folder as originals.\r\n\r\n* **Save as TIFF** – all non-prepress formats (JPEG, PNG etc.) are resaved to TIFF.\r\n* **Save as TIFF, PSD when clipping detected** – all non-prepress to TIFF, and to PSD when detecting a clipping path in InDesign.\r\n* **Save as PSD** – all non-prepress to PSD.\r\n\r\nBackground layer can be transformed to normal layer, and clipping path in InDesign can be removed when resaving to PSD.\r\n\r\nPhotoshop EPS files can be optionally detected and processed, which is slightly slowing images checking process.\r\n\r\nOriginal images can be removed.\r\n\r\n###### Digital workflow\r\n\r\nImages of all InDesign-supported formats are exported to PNG.\r\n\r\n* **Non-PNG files only** – all images excluding PNG are exported to PNG.\r\n* **All files including PNG** – including PNG.\r\n\r\nBitmap images are not exported to PNG.\r\n\r\nOriginal images can be removed.\r\n\r\n### Resolution\r\n\r\nBlack and White (Bitmap) graphics processed separately from Color and Grayscale. Target resolution and delta (minimal difference from target) settings are also separated. By default it's a 300 dpi for Color and Grayscale, and 1200 dpi for Bitmap.\r\nWhen the delta is zero, the image is processed unconditionally.\r\n\r\nTransformation parameters of every image's occurrence are considered when calculating target resolution.\r\n\r\nImage resampling method can be choosen from:\r\n\r\n* **Bicubic** – default, for downsampling and upsampling.\r\n* **Bicubic sharper/smoother** – sharper for downsampling and smoother for upsampling.  \r\n\r\n### Scopes\r\n\r\n* **All opened documents** – all documents, opened in InDesign will be processed.\r\n* **Active document** – only active document will be processed.\r\n* **Selected pages** – only selected pages of active document will be processed.\r\n* **Selected images** – only selected in InDesign images will be processed.\r\n\r\nImages that are off-bleeds can be processed or ignored.\r\n\r\nImages on master pages are always ignored.\r\n\r\n### Images list\r\n\r\nOnly images selected in this list will be processed.\r\nWhen only one image is selected, all its occurences are listed with corresponding document name and page number.\r\n\r\nRead-only files are marked with a red dot and always ignored.\r\n\r\n### Backup\r\n\r\nOptionally, back up copies of all changed files can be made, including the InDesign publication.\r\nWhen the file names from different folders are identical, unique number are added to file names.\r\n\r\nBackups created more than month ago can be automatically deleted if desired.\r\n\r\nPreviously created backups can be automatically restored by running script with no documents open in InDesign.\r\n\r\n### Unembedding\r\n\r\nEmbedded images and images pasted into document by Copy/Paste commands can be automatically unembedded.\r\n\r\nInstallation\r\n------------\r\n\r\nScript file (`Trista DPI.jsx`) should be placed in folder `Scripts Panel`. It can be easily accessed from InDesign's Scripts panel by right-clicking a `User` folder, and choosing `Reveal In Finder`  in Mac OS or `Reveal In Explorer` in Windows.\r\n\r\nAcknowledgements\r\n----------------\r\n\r\n**Anastasia Morozova** – initial idea, prepress task definition and testing.\r\n\r\n**Craig McCubbin** – idea and testing of digital process.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}